<div *ngIf="chartName" id="ValueChartView">
	<input type="color" id="primitiveObjective-color-picker">
	<div class="valuechart-toolbar">
		<form class="navbar-form col-xs-12" style="width:100%;height:60px;">
			<div class="valuechart-toolbar-group pull-left">
				<button class="btn btn-default"  *ngIf="valueChartViewerService.isOwner()" (click)="editValueChart()">
					Edit Chart
				</button>
				<button class="btn btn-default"  *ngIf="valueChartViewerService.isParticipant()" (click)="editPreferences()">
					Edit Preferences
				</button>
			</div>
			<div class="valuechart-toolbar-group pull-right">
				<button class="btn btn-default" [disabled]="undoRedoService && !undoRedoService.canRedo()" (click)="redoChartChange()">
				Redo
				</button>
			</div>
			<div class="valuechart-toolbar-group pull-right">
				<button class="btn btn-default" [disabled]="undoRedoService && !undoRedoService.canUndo()" (click)="undoChartChange()">
				Undo
				</button>
			</div>
			<ViewOptions [chartType]="valueChartViewerService.getActiveValueChart().getType()" (viewConfig)="updateView($event)" (reducedInfo)="updateReducedInfo($event)"></ViewOptions>
			<InteractionOptions [interactive]="canInteract()" (interactionConfig)="updateInteractions($event)"></InteractionOptions>
			<div class="valuechart-toolbar-group pull-right">
				<button class="btn btn-success"  *ngIf="canSave()" (click)="save()" [disabled]="!saveEnabled()">
					{{valueChartViewerService.isOwner() ? "Save Changes" : "Submit to Group Chart"}}
				</button>
				<button class="btn btn-primary"  *ngIf="canViewGroupChart() && valueChartViewerService.getActiveValueChart().getType() === ChartType.Individual" (click)="setValueChartTypeToView(ChartType.Group)">
					View Group Chart
				</button>
				<button class="btn btn-primary"  *ngIf="canViewGroupChart() && valueChartViewerService.getActiveValueChart().getType() === ChartType.Group" (click)="setValueChartTypeToView(ChartType.Individual)">
					View Individual Chart
				</button>
			</div>
		</form>
	</div>
	<div>
		<ValueChart
		[valueChart]="valueChartViewerService.getActiveValueChart()"
		[reducedInformation]="reducedInformation"
		[width]="valueChartWidth"
		[height]="valueChartHeight"
		[viewConfig]="viewConfig"
		[interactionConfig]="interactionConfig"
		[usersToDisplay]="usersToDisplay"
		(chartElement)="updateChartElement($event)"
		(undoRedo)="updateUndoRedo($event)"
		(renderEvents)="updateRenderEvents($event)">
		</ValueChart>
	</div>
	<div style="position: relative;">
		<DetailBox 
		[valueChart]="valueChartViewerService.getActiveValueChart()"
		[enableManagement]="valueChartViewerService.isOwner()" 
		[showUsers]="!valueChartService.getValueChart().isIndividual()"
		[viewConfig]="viewConfig" 
		[height]="valueChartHeight / 4.5" 
		[width]="valueChartWidth / 3.1"
		[renderEventsService]="renderEvents"
		[chartElement]="chartElement">
		</DetailBox>
	</div>